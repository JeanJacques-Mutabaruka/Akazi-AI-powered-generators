{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://akazi.io/schemas/cv_source_format.json",
  "title": "CV Source Format Schema (REAL FORMAT FROM AI OUTPUT)",
  "description": "This is the ACTUAL format generated by AI and used as input to generators",
  "type": "object",
  "required": [
    "str_Initials",
    "str_speciality",
    "int_Years_of_experience",
    "experiences"
  ],
  "properties": {
    "str_Initials": {
      "type": "string",
      "description": "Candidate initials",
      "minLength": 1,
      "maxLength": 10,
      "examples": ["ASB", "AB", "JM"]
    },
    "str_Tjm": {
      "type": "string",
      "description": "Daily rate (Taux Journalier Moyen) - can be empty",
      "examples": ["650", "800", ""]
    },
    "str_speciality": {
      "type": "string",
      "description": "Professional specialty/title",
      "minLength": 5,
      "examples": [
        "Développeur Power BI & Data Analyst",
        "CHEF DE PROJET SENIOR INFRASTRUCTURE CLOUD, SECURITE ET IAM"
      ]
    },
    "int_Years_of_experience": {
      "type": "integer",
      "description": "Total years of professional experience",
      "minimum": 0,
      "maximum": 70
    },
    "str_functional_skills_summary": {
      "type": "string",
      "description": "Summary paragraph of functional competencies (200-400 words)"
    },
    "str_functional_skills": {
      "type": "string",
      "description": "Detailed functional skills (newline-separated list)",
      "examples": [
        "Recueil et formalisation des besoins métiers\nTraduction besoins en spécifications techniques\n..."
      ]
    },
    "str_technical_skills_summary": {
      "type": "string",
      "description": "Summary paragraph of technical competencies (200-400 words)"
    },
    "str_technical_skills": {
      "type": "string",
      "description": "Detailed technical skills organized by categories (newline-separated)",
      "examples": [
        "BI & Analytics: Power BI, DAX, Power Query\nLangages: SQL, Python\n..."
      ]
    },
    "str_education": {
      "type": "string",
      "description": "Education history (newline-separated: YYYY : Degree : Institution)",
      "examples": [
        "2018 : Master 2 informatique : Analyse spatiale\n2017 : Ingénieur en Sciences géodésiques\n..."
      ]
    },
    "str_certificates": {
      "type": "string",
      "description": "Professional certificates (newline-separated: YYYY : Certificate name)",
      "examples": [
        "2025 : Power BI Data Analyst Associate PL-300 (Microsoft)\n2025 : Azure Fundamentals AZ-900\n..."
      ]
    },
    "languages": {
      "type": "string",
      "description": "Languages with proficiency levels (newline-separated: Language: Level)",
      "examples": [
        "Français: courant\nAnglais : Professionnel\nEspagnol : scolaire"
      ]
    },
    "experiences": {
      "type": "array",
      "description": "Professional experiences in reverse chronological order",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": ["title", "company", "period", "summary", "mission_context", "tasks"],
        "properties": {
          "title": {
            "type": "string",
            "description": "Job title/position",
            "examples": [
              "Business Analyst Data & Développeur BI",
              "Chef de Projet Infrastructure, IAM et Sécurité du Cloud"
            ]
          },
          "company": {
            "type": "string",
            "description": "Company name",
            "examples": ["Axione", "BABILOU FAMILY GROUP", "Groupe Firalp"]
          },
          "period": {
            "type": "string",
            "description": "Time period (MM/YYYY - MM/YYYY or MM/YYYY - Aujourd'hui/Present)",
            "pattern": "^\\d{2}/\\d{4} - (\\d{2}/\\d{4}|Aujourd'hui|Present)$",
            "examples": [
              "09/2024 - 10/2025",
              "02/2022 - Aujourd'hui",
              "01/2019 - 12/2021"
            ]
          },
          "summary": {
            "type": "string",
            "description": "One-sentence summary of the mission (80-150 words)"
          },
          "mission_context": {
            "type": "string",
            "description": "Detailed context of the mission (100-200 words)"
          },
          "tasks": {
            "type": "array",
            "description": "List of tasks - CRITICAL: Each task is an ARRAY with ONE string element",
            "minItems": 1,
            "items": {
              "type": "array",
              "description": "Array containing a single task description",
              "minItems": 1,
              "maxItems": 1,
              "items": {
                "type": "string"
              }
            },
            "examples": [
              [
                ["Pilotage de missions BI visant à renforcer le suivi"],
                ["Utilisation de Snowflake pour l'analyse et la préparation"]
              ]
            ]
          },
          "technical_environment": {
            "type": "array",
            "description": "Technologies used (array of strings or single concatenated string in array)",
            "minItems": 1,
            "items": {
              "type": "string"
            },
            "examples": [
              ["Power BI (DAX, Power Query, RLS), SQL, Snowflake, méthodologie Agile"],
              ["PostgreSQL, Python (Pandas, NumPy), SQL, Excel"]
            ]
          },
          "technical_environment_tools_technologies": {
            "type": "string",
            "description": "Alternative field name for technical environment (structured text with categories)",
            "examples": [
              "Cloud : Microsoft Azure\nSécurité : Azure Entra ID\nOutils : Jira, Confluence"
            ]
          }
        }
      }
    },
    "company_logo_base64": {
      "type": "string",
      "description": "Optional base64-encoded company logo image"
    }
  },
  "additionalProperties": false
}
